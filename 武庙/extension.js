game.import("extension", function (lib, game, ui, get, ai, _status) {
    return {
        name: "武庙",
        content: function (config, pack) {

        },
        precontent: function () {

        },
        help: {}, config: {}, package: {
            character: {
                character: {
                    "wm_zgl": ["male", "shu", 3, ["BJ"], ["des:诸葛亮（181年－234年10月8日[1]），字孔明，号卧龙（也作伏龙），汉族，徐州琅琊阳都（今山东临沂市沂南县）人，三国时期蜀汉丞相，杰出的政治家、军事家、外交家、散文家、书法家、发明家、文学家。早年随叔父诸葛玄到荆州，诸葛玄死后，诸葛亮就在南阳郡耕种。后刘备三顾茅庐请出，辅佐刘备建立蜀汉。 蜀汉建立后，诸葛亮被封为丞相、武乡侯，对内抚百姓，示仪轨，约官职，从权制，开诚心，布公道，对外联吴抗魏，为实现兴复汉室的政治理想，数次北伐，但因各种不同因素而失败，最后病逝于五丈原。刘禅追谥其为忠武侯，后世常以武侯、诸葛武侯尊称诸葛亮。东晋政权因其军事才能特追封他为武兴王。 诸葛亮散文代表作有《出师表》、《诫子书》等。曾发明木牛流马、孔明灯等，并改造连弩，叫做诸葛连弩，可一弩十矢俱发。 诸葛亮一生“鞠躬尽瘁、死而后已”，是中国传统文化中忠臣与智者的代表人物。"]],
                    "wm_zl": ["male", "qun", 4, ["SM", "归林"], ["des:张良（约前250—前186年），字子房，颍川城父人，秦末汉初杰出的谋士、大臣，与韩信、萧何并称为“汉初三杰”。 张良的祖父、父亲等先辈在韩国的首都阳翟（今河南禹州）任过五代韩王之相。 曾劝刘邦在鸿门宴上卑辞言和，保存实力，并疏通项羽叔父项伯，使刘邦得以脱身。后又以出色的智谋，协助汉高祖刘邦在楚汉战争中最终夺得天下，帮助吕后扶持刘盈登上太子之位，被封为留侯。 他精通黄老之道，不留恋权位，晚年据说跟随赤松子云游。张良去世后，谥为文成侯。《史记·留侯世家》专门记载了张良的生平。汉高祖刘邦在洛阳南宫评价他说：“夫运筹策帷帐之中，决胜于千里之外，吾不如子房。”，表现出张良的机智谋划、文韬武略。后世敬其谋略出众，称其为“谋圣”。"]],
                    "wm_lw": ["male", "qun", 4, ["宗师", "YS", "yx"], ["des:姜子牙（约前1156年—约前1017年），亦作姜尚，中国著名历史人物，商末周初人。姜姓，吕氏，名尚，一名望，字子牙，或单呼牙，别号飞熊，因其先祖辅佐大禹平水土有功被封于吕，故以吕为氏，也称吕尚。 相传姜子牙72岁时在渭水之滨的磻溪垂钓，遇到了求贤若渴的周文王，被封为“太师”（武官名），称“太公望”，俗称太公，被周武王尊为“师尚父”。姜子牙辅佐武王伐纣建立了周朝，是齐国的缔造者，周文王倾商，武王克纣的首席谋主、最高军事统帅与西周的开国元勋，齐文化的创始人，亦是中国古代的一位影响久远的杰出的韬略家、军事家与政治家,为各家所推崇，视为祖先。吕望为《武庙》主祭对象，同《文庙》的孔子相辉映。"]],
                    "wm_trj": ["male", "qun", 3, ["RB", "yb", "CY"], ["des:田穰苴（生卒不详），又称司马穰苴，春秋末期齐国人，是田完（陈完）的后代，齐田氏家族的支庶。田穰苴是齐国继姜尚之后一位承上启下的著名军事家，曾率齐军击退晋、燕入侵之军，因功被封为大司马，子孙后世称司马氏。后因齐景公听信谗言，田穰苴被罢黜，未几抑郁发病而死。由于年代久远，其事迹流传不多，但其军事思想却影响巨大。唐肃宗时将田穰苴等历史上十位武功卓著的名将供奉于武成王庙内，被称为武庙十哲。"]],
                    "wm_wq": ["male", "wei", 3, ["wd", "JS"], ["des:吴起（前440年－前381年），中国战国初期军事家、政治家、改革家，兵家代表人物。卫国左氏（一说今山东省菏泽市曹县，一说今山东菏泽市定陶区）人。吴起一生历仕鲁、魏、楚三国，通晓兵家、法家、儒家三家思想，在内政、军事上都有极高的成就。在楚国时，曾主持“吴起变法”。后因变法得罪贵族，遭其杀害。唐肃宗时位列武成王庙内，被称为武庙十哲。"]],
                    "wm_gz": ["male", "wu", 4, ["YX", "ZB"], ["des:管仲，字夷吾，齐国人，出身贫困，与老母相依为命，性至孝，曾经为老母诈死当了逃兵，被天下人笑话，和鲍叔牙联合经商之时也占他便宜，被视为小人，但鲍叔牙视之为知己，后来管仲和鲍叔牙各奔东西，分别成为了公子白和公子纠幕僚，齐国乱，姜白姜纠回国争位，管仲事先预料好之后，埋伏姜小白，并向他射箭，差点射死小白，小白装死，管仲大意离开，导致小白成功获得王位，因此记恨管仲，但是因鲍叔牙劝说，姜小白同意原谅管仲，并且让人前往鲁国接他，管仲一向热爱自己的国家，不愿轻生，所以帮助小白，后来小白不听管仲之说，在“长勺之战”，齐国大败，后来，齐桓公一再不听言，而连续如此败了几场，以至于后来小白才认识到管仲的远见，因此对其信任有加。管仲对齐国进行了很大程度的改革，使得齐国大大强盛起来，不仅发动经济战争，而且锄强扶弱，匡扶正义，打击非华夏族的异族，扶持周天子，史称“九合诸侯，一匡天下”。齐国成为天下至霸，齐桓公成为“五霸之首”，因其功勋以及极其非凡的才华，管仲被称为“华夏第一相”，并且被列入“武庙十哲”为后世供奉；"]],
                    "wm_sb": ["male", "wu", 3, ["BD", "FX"], ["des:孙膑（生卒年不详），其本名孙伯灵（山东孙氏族谱可查），是中国战国时期军事家，华夏族，山东鄄城人。出生于阿、鄄之间（今山东省菏泽市鄄城县北），是孙武的后代。 孙膑曾与庞涓为同窗，因受庞涓迫害遭受膑刑，身体残疾，后在齐国使者的帮助下投奔齐国，被齐威王任命为军师，辅佐齐国大将田忌两次击败庞涓，取得了桂陵之战和马陵之战的胜利，奠定了齐国的霸业。 唐德宗时将孙膑等历史上六十四位武功卓著的名将供奉于武成王庙内，被称为武成王庙六十四将。宋徽宗时追尊孙膑为武清伯，位列宋武庙七十二将之一。"]],
                    "wm_yy": ["male", "wei", 4, ["CG", "LP"], ["des:乐毅（yuè yì），生卒年不详，子姓，乐氏，名毅，字永霸。中山灵寿人，战国后期杰出的军事家，魏将乐羊后裔，拜燕上将军，受封昌国君，辅佐燕昭王振兴燕国。 公元前284年，他统帅燕国等五国联军攻打齐国，连下70余城，创造了中国古代战争史上以弱胜强的著名战例，报了强齐伐燕之仇。后因受燕惠王猜忌，投奔赵国，被封于观津，号为望诸君。"]],
                    "wm_bq": ["male", "wei", 4, ["SS", "ZL"], ["des:四名将之首，兵家代表人物之一，出身行伍，为秦国征战天下，所向披靡，因杀人无数而号称“人屠”，“长平之战”、“郢都之战”等为其戎马一生的代表，六国之军，无不畏惧白起，但后来白起为秦昭王赐死。"]],
                    "wm_lj": ["male", "shu", 3, ["bs", "HZ", "YB", "ZX"], ["des:卫国景武公李靖（571年－649年7月2日），字药师，雍州三原（今陕西三原县东北）人。隋末唐初将领，是唐朝文武兼备的著名军事家。后封卫国公，世称李卫公。 李靖善于用兵，长于谋略，原为隋将，后效力李唐，为唐王朝的建立发展立下赫赫战功，南平萧铣、辅公祏，北灭东突厥，西破吐谷浑。去世后谥曰景武，陪葬昭陵。著有数种兵书，惟多亡佚。"]],
                    "wm_sw": ["male", "wu", 4, ["BS", "JZ", "SJ", "XS"], ["des:孙武，字长卿，齐国人，出生于军事世家，齐国混乱时，孙武离开齐国，到了吴国，在哪里隐居了一段时间，后来被吴王阖闾赏识，于是孙武“吴宫教战”，当上了大将军，从此，吴国称霸中原，《史记》上称在孙武为将期间吴国“北威齐晋”“西破强楚”“南服夷越”，“郢都之战\"时，孙武以兵3万打败21万楚国军队，攻破郢都，几近灭亡楚国，直到阖闾薨，夫差继位后，孙武离开了吴国，隐居山林，重新编订《孙子兵法》(又称《吴孙子兵法》，是世界上仅存的最早兵书，被誉为“兵学圣典”，孙武也被誉为“兵学之父”)，因其军事才华，后世之人称其“兵圣”，唐代时，孙武被列入“武庙十哲”，并且为将首，而《孙子兵法》为武经七书之首，还为国外军事学院必修之书，可见《孙子兵法》的高明智慧无可比拟；"]],
                    "wm_hx": ["male", "shu", 3, ["BX", "QZ", "NX", "DB"], ["des:汉初三杰之一，号称“兵仙”，没落贵族，靠蹭饭过活，后来韩信投靠项羽，但是并未得到重用，于是韩信投靠了刘邦，几经波折后，韩信成为刘邦的大元帅，于是，韩信“暗度陈仓”，灭亡了赵国，战死了龙苴，攻灭了齐国，横扫四海，所向披靡，为刘邦一统天下，立下了赫赫战功；"]],
                },
                translate: {
                    "wm_zgl": "卧龙·诸葛亮",
                    "wm_zl": "谋圣·张良",
                    "wm_lw": "宗师·吕望",
                    "wm_trj": "义师·田禳苴",
                    "wm_wq": "军神·吴起",
                    "wm_gz": "第一相·管仲",
                    "wm_sb": "国师·孙膑",
                    "wm_yy": "元帅·乐毅",
                    "wm_bq": "人屠·白起",
                    "wm_lj": "兵神·李靖",
                    "wm_sw": "兵圣·孙武",
                    "wm_hx": "兵仙·韩信",
                },
            },
            card: {
                card: {
                },
                translate: {
                },
                list: [],
            },
            skill: {
                skill: {
                    BX: {
                        mark: true,
                        unique: true,
                        init: function (player) {
                            player.storage.BX = 3;
                            game.addVideo('storage', player, ['BX', player.storage.BX]);
                        },
                        intro: {
                            content: function (storage) {
                                return '当前值：' + storage + '/10';
                            },
                        },
                        trigger: {
                            player: ["useCard", "respond"],
                        },
                        forced: true,
                        filter: function (event, player) {
                            if (typeof player.storage.B == 'boolean' && player.storage.B == true)
                                return false;
                            if (player.storage.BX >= 10)
                                return false;
                            return true;
                        },
                        content: function () {
                            player.$damagepop(1, 'unknownx');
                            player.storage.BX += 1;
                            var chat = ['吾乃大汉元帅，尔等受降吧！', '降则安，不降则死！！'].randomGet()
                            player.say(chat)
                            if (player.storage.BX > 10)
                                player.storage.BX = 10;
                            game.addVideo('storage', player, ['BX', player.storage.BX]);
                        },
                    },
                    QZ: {
                        enable: "phaseUse",
                        usable: 1,
                        filter: function (event, player) {
                            return player.storage.BX >= 5;
                        },
                        content: function () {
                            player.$damagepop(-5, 'unknownx');
                            player.storage.BX -= 5;
                            var chat = ['栈道已成，静等出兵！'].randomGet()
                            player.say(chat);
                            player.syncStorage('BX');
                            player.addSkill('QZ_QZ1');
                        },
                        subSkill: {
                            "QZ1": {
                                mark: true,
                                intro: {
                                    content: "当你造对一名其他角色成伤害后，视为对目标使用了一张【顺手牵羊】",
                                },
                                forced: true,
                                trigger: {
                                    source: "damageEnd",
                                },
                                filter: function (event, player) {
                                    return event.player.num('hej') > 0;
                                },
                                content: function () {
                                    player.useCard({ name: 'shunshou' }, trigger.player);
                                    var chat = ['回家练练吧！', '降还是不降？', '此之谓动于九天之上！'].randomGet()
                                    player.say(chat);
                                },
                                group: "QZ_QZ2",
                                sub: true,
                            },
                            "QZ2": {
                                trigger: {
                                    player: "phaseEnd",
                                },
                                forced: true,
                                content: function () {
                                    player.storage.QZ = false;
                                    var chat = ['大功告成！'].randomGet()
                                    player.say(chat);
                                    player.removeSkill('QZ_QZ1');
                                },
                                sub: true,
                            },
                        },
                    },
                    NX: {
                        enable: "phaseUse",
                        usable: 1,
                        filter: function (event, player) {
                            return player.storage.BX > 3;
                        },
                        content: function () {
                            player.$damagepop(-1, 'unknownx');
                            player.storage.BX -= 1;
                            player.syncStorage('BX');
                            playwr.chooseToDiscard(true);
                            player.draw();
                            player.addTempSkill('mashu');
                            var chat = ['销声匿迹，兵如天降！'].randomGet()
                            player.say(chat);
                        },
                    },
                    DB: {
                        enable: "phaseUse",
                        usable: false,
                        filter: function (event, player) {
                            return player.storage.BX >= 1;
                        },
                        content: function () {
                            player.$damagepop(-1, 'unknownx');
                            player.storage.BX -= 1;
                            player.syncStorage('BX');
                            player.draw();
                            player.chooseToDiscard('he', true)
                            var chat = ['吾带兵，自然是多多益善！', '你，你，还有你！'].randomGet()
                            player.say(chat);
                        },
                    },
                    BS: {
                        mark: true,
                        unique: true,
                        init: function (player) {
                            player.storage.BS = 7;
                            game.addVideo('storage', player, ['BS', player.storage.BS]);
                        },
                        intro: {
                            content: function (storage) {
                                return '当前值：' + storage + '/15';
                            },
                        },
                        trigger: {
                            player: ["useCard", "respond"],
                        },
                        forced: true,
                        filter: function (event, player) {
                            if (typeof player.storage.B == 'boolean' && player.storage.B == true)
                                return false;
                            if (player.storage.BS >= 15)
                                return false;
                            return true;
                        },
                        content: function () {
                            player.$damagepop(1, 'unknownx');
                            player.storage.BS += 1;
                            var chat = ['有提兵三万而天下莫能敌者，孙武也——《尉缭子》'].randomGet()
                            player.say(chat);
                            if (player.storage.BS > 15)
                                player.storage.BS = 15;
                            game.addVideo('storage', player, ['BS', player.storage.BS]);
                        },
                    },
                    JZ: {
                        group: ["JZ_1", "JZ_2"],
                        subSkill: {
                            "1": {
                                enable: "phaseUse",
                                usable: 1,
                                filter: function (event, player) {
                                    return player.storage.BS > 14;
                                },
                                content: function () {
                                    player.$damagepop(-15, 'unknownx');
                                    player.storage.BS -= 15;
                                    player.syncStorage('BS');
                                    player.insertPhase();
                                    var chat = ['谋当者神速！', '后人发，先人至——《孙武兵法》'].randomGet()
                                    player.say(chat);
                                },
                                sub: true,
                            },
                            "2": {
                                trigger: {
                                    player: "phaseBegin",
                                },
                                frequent: true,
                                content: function () {
                                    player.draw()
                                    player.$damagepop(1, 'unknownx');
                                    player.storage.BS += 1;
                                    player.syncStorage('BS');
                                    var chat = ['先趋战地者佚——《孙武兵法》'].randomGet()
                                    player.say(chat);
                                },
                                sub: true,
                            },
                        },
                    },
                    XS: {
                        group: ["XS_1", "XS_2"],
                        subSkill: {
                            "1": {
                                unique: true,
                                trigger: {
                                    target: "useCardToBefore",
                                },
                                forced: true,
                                filter: function (event, player) {
                                    return event.card.name == 'sha' && player.storage.BS > 5;
                                },
                                content: function () {
                                    trigger.player.chooseToDiscard(player.num('e'), 'he', true)
                                    var chat = ['众者，使人备己也——《孙武兵法》', '无所不备，无所不寡——《孙武兵法》'].randomGet()
                                    player.say(chat);
                                },
                                sub: true,
                            },
                            "2": {
                                unique: true,
                                trigger: {
                                    target: "useCardToBefore",
                                },
                                forced: true,
                                filter: function (event, player) {
                                    return event.card.name == 'sha' && player.storage.BS <= 5;
                                },
                                content: function () {
                                    player.draw(player.num('e'));
                                    var chat = ['寡者，备人者也——《孙武兵法》', '昼战多旌旗，夜战多火鼓——《孙武兵法》'].randomGet()
                                    player.say(chat);

                                },
                                sub: true,
                            },
                        },
                    },
                    SJ: {
                        enable: "phaseUse",
                        usable: 1,
                        filter: function (event, player) {
                            return player.storage.BS > 5;
                        },
                        content: function () {
                            player.$damagepop(-6, 'unknownx');
                            player.storage.BS -= 6;
                            player.syncStorage('BS');
                            player.addTempSkill('zhiheng');
                            player.addTempSkill('wansha');
                            player.addTempSkill('JIAOZHAN');
                            var chat = ['多算者胜，少算者亡——《孙武兵法》', '吾以此观之，胜负见矣——《孙武兵法》'].randomGet()
                            player.say(chat);
                        },
                    },
                    JIAOZHAN: {
                        trigger: {
                            source: "damageEnd",
                        },
                        forced: true,
                        content: function () {
                            player.$damagepop(1, 'unknownx');
                            player.storage.BS += 1;
                            player.syncStorage('BS');
                            player.draw();
                            var chat = ['三申五令，则军士见长！', '令行禁止，则敌莫能敌！'].randomGet()
                            player.say(chat);














                        },
                    },
                    bs: {
                        mark: true,
                        unique: true,
                        init: function (player) {
                            player.storage.bs = 2;
                            game.addVideo('storage', player, ['bs', player.storage.bs]);
                        },
                        intro: {
                            content: function (storage) {
                                return '当前值：' + storage + '/10';
                            },
                        },
                        trigger: {
                            player: ["useCard", "respond"],
                        },
                        forced: true,
                        filter: function (event, player) {
                            if (typeof player.storage.B == 'boolean' && player.storage.B == true)
                                return false;
                            if (player.storage.bs >= 10)
                                return false;
                            return true;
                        },
                        content: function () {
                            player.$damagepop(1, 'unknownx');
                            player.storage.bs += 1;
                            var chat = ['以小善胜不善，不可谓知兵——《卫公问对》', '古者，多以小善之军胜不善之军，如谢玄者，吾不屑也！'].randomGet()
                            player.say(chat)
                            if (player.storage.bs > 10)
                                player.storage.bs = 10;
                            game.addVideo('storage', player, ['bs', player.storage.bs]);
                        },
                    },
                    HZ: {
                        enable: "phaseUse",
                        usable: 1,
                        filter: function (event, player) {
                            return player.storage.bs > 5 && player.num('e') > 0;
                        },
                        content: function () {
                            player.$damagepop(-5, 'unknownx');
                            player.storage.bs -= 5;
                            player.chooseToDiscard(true, 'e');
                            var chat = ['三令五申，三散三合——《卫公问对》'].randomGet()
                            player.say(chat);
                            player.syncStorage('bs');
                            player.addSkill('HZ_HZ1');
                        },
                        subSkill: {
                            "HZ1": {
                                unique: true,
                                mark: true,
                                intro: {
                                    content: "当你被杀指定时，摸取一张牌并令目标弃置一张手牌",
                                },
                                forced: true,
                                trigger: {
                                    target: "useCardToBefore",
                                },
                                filter: function (event, player) {
                                    return event.player.num('h') > 0 && event.card.name == 'sha';
                                },
                                content: function () {
                                    player.draw();
                                    trigger.player.chooseToDiscard(true, 'h')
                                    var chat = ['以散为奇，复归于正——《卫公问对》'].randomGet()
                                    player.say(chat);
                                },
                                group: "HZ_HZ2",
                                sub: true,
                            },
                            "HZ2": {
                                trigger: {
                                    player: "phaseBegin",
                                },
                                forced: true,
                                content: function () {
                                    player.storage.HZ = false;
                                    var chat = ['贼军已破，原地修整，待我号令，再行追击！'].randomGet()
                                    player.say(chat);
                                    player.removeSkill('HZ_HZ1');
                                },
                                sub: true,
                            },
                        },
                    },
                    YB: {
                        trigger: {
                            player: ["shaBegin", "shanBegin"],
                        },
                        check: function () { return 1 },
                        content: function () {
                            var card = get.cardPile(function (card) {
                                return get.subtype(card) == 'equip1';
                            });
                            if (card) {
                                player.gain(card, 'gain2');
                                game.log(player, '从牌堆获得了', card);
                                var chat = ['吾依古法，推陈演兵，甚有所得焉！', '以此为基，布下六花阵法！'].randomGet()
                                player.say(chat);
                            }
                        },
                    },
                    ZX: {
                        enable: "phaseUse",
                        usable: 1,
                        filter: function (event, player) {
                            return player.storage.bs > 4;
                        },
                        content: function () {
                            'step 0'
                            player.chooseTarget(get.prompt('ZX'), function (card, player, target) {
                                return target != player;
                            }).set("ai", function (target) {
                                return get.damageEffect(target, player, player);

                            });
                            'step 1'
                            if (result.bool) {
                                player.logSkill('ZX', result.targets);
                                result.targets[0].damage()
                            };
                            player.$damagepop(-4, 'unknownx');
                            player.storage.bs -= 4;
                            player.syncStorage('bs');
                            var chat = ['臣以正兵——《卫公问对》', '非正兵，安能致远？——《卫公问对》'].randomGet()
                            player.say(chat)




                        },
                    },
                    SS: {
                        mark: true,
                        unique: true,
                        init: function (player) {
                            player.storage.SS = 3;
                            game.addVideo('storage', player, ['SS', player.storage.SS]);
                        },
                        intro: {
                            content: function (storage) {
                                return '当前值：' + storage + '/10';
                            },
                        },
                        trigger: {
                            player: ["useCard", "respond"],
                        },
                        forced: true,
                        filter: function (event, player) {
                            if (typeof player.storage.SS == 'boolean' && player.storage.SS == true)
                                return false;
                            if (player.storage.SS >= 10)
                                return false;
                            return true;
                        },
                        content: function () {
                            player.$damagepop(1, 'unknownx');
                            player.storage.SS += 1;
                            var chat = ['地狱之门，即将打开！', '唯有死亡，才是你们的归宿！'].randomGet()
                            player.say(chat)
                            if (player.storage.SS > 10)
                                player.storage.SS = 10;
                            game.addVideo('storage', player, ['SS', player.storage.SS]);
                        },
                    },
                    RT: {
                        mod: {
                            cardUsable: function (card, player, num) {
                                if (card.name == 'sha') return Infinity;
                            },
                            targetInRange: function (card) {
                                if (card.name == 'sha') return true;
                            },
                        },
                    },
                    ZL: {
                        enable: "phaseUse",
                        usable: 1,
                        filter: function (event, player) {
                            return player.storage.SS > 9;
                        },
                        content: function () {
                            'step 0'
                            player.chooseTarget(get.prompt('ZL'), function (card, player, target) {
                                return target != player;
                            }).set("ai", function (target) {
                                return get.damageEffect(target, player, player);

                            });
                            'step 1'
                            if (result.bool) {
                                player.logSkill('ZL', result.targets);
                                result.targets[0].damage()
                            };
                            player.$damagepop(-10, 'unknownx');
                            player.storage.SS -= 10;
                            player.syncStorage('SS');
                            player.addTempSkill('RT');
                            player.draw(player.hp + 1)
                            var chat = ['愚昧之徒，只得鹿死吾手！', '佯装败退，只为今日！', '鱼已上钩，合围，歼灭他们！'].randomGet()
                            player.say(chat)




                        },
                    },
                    CG: {
                        group: ["CG_1", "CG_2"],
                        subSkill: {
                            "1": {
                                unique: true,
                                trigger: {
                                    player: ["phaseBegin", "phaseEnd"],
                                },
                                forced: true,
                                content: function () {
                                    'step 0'
                                    player.chooseTarget(get.prompt('CG'), function (card, player, target) {
                                        return true;
                                    }).set('ai', function (target) {
                                        return ai.get.attitude(player, target);
                                    });
                                    'step 1'
                                    if (result.bool) {
                                        player.logSkill('CG', result.targets);
                                        result.targets[0].draw();
                                        var chat = ['臣秉承先王之教，感激先王之恩，如此者，为报于先王也！', '臣闻忠臣去国不洁其名——《报燕王书》'].randomGet()
                                        player.say(chat);
                                    };

                                },
                                sub: true,
                            },
                            "2": {
                                trigger: {
                                    player: "phaseBegin",
                                },
                                forced: true,
                                content: function () {
                                    if (player.hp > 1) player.loseHp();
                                    player.addTempSkill('ZW')




                                },
                                sub: true,
                            },
                        },
                    },
                    ZW: {
                        enable: "phaseUse",
                        usable: 3,
                        filter: function (event, player) {
                            return player.num('hej') >= 2;
                        },
                        content: function () {

                            player.chooseToDiscard(2, 'hej', true);
                            player.draw(player.maxHp - player.hp);
                            var chat = ['修军整武，备战待敌！', '革新军制，则战无不胜！'].randomGet()
                            player.say(chat);
                        },
                    },
                    LP: {
                        group: ["LP_1", "LP_2"],
                        subSkill: {
                            "1": {
                                trigger: {
                                    source: "damageEnd",
                                },
                                forced: true,
                                content: function () {
                                    player.draw(player.maxHp - player.hp)
                                    player.changeHujia();
                                    var chat = ['厉兵十年，只为此一战！'].randomGet()
                                    player.say(chat);
                                },
                                sub: true,
                            },
                            "2": {
                                trigger: {
                                    player: "phaseEnd",
                                },
                                forced: true,
                                filter: function (event, player) {
                                    return player.hujia > 0;
                                },
                                content: function () {
                                    player.changeHujia(-(player.hp + 1));
                                    player.recover();
                                    player.draw(player.hujia)
                                    var chat = ['臣奉先王之志，不敢苟同大王！'].randomGet()
                                    player.say(chat);

                                },
                                sub: true,
                            },
                        },
                    },
                    BD: {
                        group: ["BD_1", "BD_2"],
                        subSkill: {
                            "1": {
                                unique: true,
                                trigger: {
                                    player: "shaBegin",
                                },
                                forced: true,
                                content: function () {
                                    'step 0'
                                    player.chooseTarget(get.prompt('BD'), function (card, player, target) {
                                        return target != player && target.num('he') > 0;
                                    }).set("ai", function (target) {
                                        return get.damageEffect(target, player, player);

                                    });
                                    'step 1'
                                    if (result.bool) {
                                        player.logSkill('BD', result.targets);
                                        result.targets[0].chooseToDiscard(true, 'he');
                                        var chat = ['围魏救赵，是为上策！', '此之谓后发之兵！', '东而示之西——《孙武兵法》'].randomGet()
                                        player.say(chat);

                                    };











                                },
                                sub: true,
                            },
                            "2": {
                                unique: true,
                                trigger: {
                                    target: "shaBegin",
                                },
                                filter: function (event, player) {
                                    return event.player.countCards('h') && player.countCards('h');
                                },
                                forced: true,
                                content: function () {
                                    'step 0'
                                    trigger.player.chooseToCompare(player);
                                    'step 1'
                                    if (result.bool) {
                                        player.chooseToDiscard(player.num('h'), true);
                                        var chat = ['无妨，此为诱敌之计！'].randomGet()
                                        player.say(chat);
                                    }
                                    else {
                                        trigger.untrigger();
                                        trigger.finish();
                                        trigger.player.chooseToDiscard(trigger.player.num('h'), true);
                                        var chat = ['此地就是你的坟墓！'].randomGet()
                                        player.say(chat);
                                    }
                                },
                                sub: true,
                            },
                        },
                        mod: {
                            maxHandcard: function (player, num) {
                                return num + 1;
                            },
                        },
                    },
                    FX: {
                        unique: true,
                        trigger: {
                            player: "loseEnd",
                        },
                        forced: true,
                        filter: function (event, player) {
                            for (var i = 0; i < event.cards.length; i++) {
                                if (event.cards[i].original == 'h') return _status.currentPhase != player && player.num('h') < 1;
                            }
                        },
                        content: function () {
                            'step 0'
                            player.draw(player.hp + 1);
                            player.chooseTarget(get.prompt('FX'), function (card, player, target) {
                                return target != player;
                            }).set("ai", function (target) {
                                return get.damageEffect(target, player, player);

                            });
                            'step 1'
                            if (result.bool) {
                                player.logSkill('FX', result.targets);
                                result.targets[0].damage();
                                var chat = ['师兄，结束了！', '早知今日，何必当初？'].randomGet()
                                player.say(chat);

                            };



                        },
                    },
                    YX: {
                        mark: true,
                        unique: true,
                        init: function (player) {
                            player.storage.YX = 5;
                            game.addVideo('storage', player, ['YX', player.storage.YX]);
                        },
                        intro: {
                            content: function (storage) {
                                return '当前值：' + storage + '/12';
                            },
                        },
                        trigger: {
                            player: ["useCard", "respond"],
                        },
                        forced: true,
                        filter: function (event, player) {
                            if (typeof player.storage.B == 'boolean' && player.storage.B == true)
                                return false;
                            if (player.storage.YX >= 12)
                                return false;
                            return true;
                        },
                        content: function () {
                            player.$damagepop(1, 'unknownx');
                            player.storage.YX += 1;
                            var chat = ['政善治，心善渊——《道德经》', '圣人学不学，欲不欲——《道德经》', '心渊不可测，不可测则无敌！'].randomGet()
                            player.say(chat)
                            if (player.storage.YX > 12)
                                player.storage.YX = 12;
                            game.addVideo('storage', player, ['YX', player.storage.YX]);
                        },
                    },
                    SL: {
                        enable: "phaseUse",
                        usable: 1,
                        filter: function (event, player) {
                            return player.storage.YX >= 6;
                        },
                        content: function () {
                            player.$damagepop(-6, 'unknownx');
                            player.storage.YX -= 6;
                            var chat = ['智者千虑，无有一失！！'].randomGet()
                            player.say(chat);
                            player.syncStorage('YX');
                            player.addSkill('SL_SL1');
                        },
                        subSkill: {
                            "SL1": {
                                unique: true,
                                mark: true,
                                intro: {
                                    content: "令你于回合外拥有“渊”而被卡牌为指定唯一目标时，取消之",
                                },
                                forced: true,
                                trigger: {
                                    target: "useCardToBefore",
                                },
                                filter: function (event, player) {
                                    return event.targets.length < 2 && player.storage.YX > 0;
                                },
                                content: function () {
                                    trigger.untrigger();
                                    trigger.finish();
                                    var chat = ['哼，不自量力！', '王霸之师，动如雷霆，止如高山！'].randomGet()
                                    player.say(chat);
                                },
                                group: "SL_SL2",
                                sub: true,
                            },
                            "SL2": {
                                trigger: {
                                    player: "phaseBegin",
                                },
                                forced: true,
                                content: function () {
                                    player.storage.SL = false;
                                    player.draw(player.maxHp - player.hp)
                                    var chat = ['上不遗民，则下不死难——《诸子》', '上下同道，则无不胜——《诸子》'].randomGet()
                                    player.say(chat);
                                    player.removeSkill('SL_SL1');
                                },
                                sub: true,
                            },
                        },
                    },
                    jt: {
                        enable: "phaseUse",
                        usable: 3,
                        filter: function (event, player) {
                            return player.storage.YX > 0;
                        },
                        content: function () {
                            'step 0'
                            player.$damagepop(-1, 'unknownx');
                            player.storage.YX -= 1;
                            player.syncStorage('YX');
                            player.chooseTarget(get.prompt('jt'), function (card, player, target) {
                                return target != player;
                            }).set('ai', function (target) {
                                return ai.get.attitude(player, target);
                            });
                            'step 1'
                            if (result.bool) {
                                player.logSkill('jt', result.targets);
                                result.targets[0].draw();
                                var chat = ['君上，霸王之道，重在国本！', '有我在，则齐国必霸天下！'].randomGet()
                                player.say(chat);
                            };

                        },
                    },
                    KW: {
                        unique: true,
                        trigger: {
                            global: "gainEnd",
                        },
                        forced: true,
                        filter: function (event, player) {
                            if (_status.currentPhase != player) return false;
                            return event.player != player;
                        },
                        content: function () {
                            'step 0'
                            player.chooseTarget(get.prompt('KW'), function (card, player, target) {
                                return target != player;
                            }).set("ai", function (target) {
                                return get.damageEffect(target, player, player);

                            });

                            'step 1'
                            if (result.bool) {
                                player.logSkill('KW', result.targets);
                                result.targets[0].chooseToDiscard('hej', true);
                                var chat = ['尔等蛮夷，来送死的吧？', '天子在上，盟军在前，汝等还是投降吧！', '违背我大周，只有死路一条！'].randomGet()
                                player.say(chat);
                            }





                        },
                    },
                    ZB: {
                        mark: true,
                        skillAnimation: true,
                        unique: true,
                        derivation: ["SL", "jt", "KW"],
                        trigger: {
                            player: "phaseBegin",
                        },
                        forced: true,
                        filter: function (event, player) {
                            if (player.storage.ZB) return false;
                            return player.storage.YX > 11;
                        },
                        content: function () {
                            player.storage.ZB = true;
                            player.loseMaxHp();
                            player.$damagepop(-12, 'unknownx');
                            player.storage.YX -= 12;
                            player.syncStorage('YX');
                            player.recover(player.maxHp - player.hp);
                            player.addSkill('SL');
                            player.addSkill('jt');
                            player.addSkill('KW');
                            player.awakenSkill('ZB');
                            player.draw(game.players.length)
                            var chat = ['九合诸侯，一匡天下！'].randomGet()
                            player.say(chat);
                        },
                    },
                    wd: {
                        unique: true,
                        trigger: {
                            player: "damageEnd",
                        },
                        forced: true,
                        filter: function (event, player) {
                            return player.hp > 0;
                        },
                        content: function () {
                            player.recover()
                            player.draw();
                            var chat = ['垂死挣扎是无用的！', '哼，毫无作用！', '不动如山，难知如阴——《孙武兵法》'].randomGet()
                            player.say(chat);

                        },
                        mod: {
                            maxHandcard: function (player, num) {
                                if (player.hp < player.maxHp) return num + 1;
                            },
                        },
                    },
                    JS: {
                        trigger: {
                            player: "shaBegin",
                        },
                        forced: true,
                        filter: function (event, player) {
                            return player.hp > 1;
                        },
                        content: function () {
                            'step 0'

                            player.chooseTarget(get.prompt('JS'), function (card, player, target) {
                                return target != player;
                            }).set("ai", function (target) {
                                return get.damageEffect(target, player, player);

                            });
                            'step 1'
                            if (result.bool) {
                                player.logSkill('JS', result.targets);
                                result.targets[0].damage();
                                player.loseHp()
                                var chat = ['这，才是力量！', '霸王之师，岂是汝等可以阻挡？', '动如雷霆——《孙武兵法》'].randomGet()
                                player.say(chat);

                            };



                        },
                        ai: {
                            expose: 0.3,
                            threaten: 1.6,
                        },
                    },
                    yx: {
                        group: ["yx_1", "yx_2"],
                        subSkill: {
                            "1": {
                                enable: "phaseUse",
                                filter: function (event, player) {
                                    return player.hp > 0;
                                },
                                filterTarget: function (card, player, target) {
                                    return target.num('he') > target.hp && !target.hasSkill('yx2');
                                },
                                content: function () {
                                    target.addTempSkill('yx2', 'phaseAfter');
                                    player.discardPlayerCard('hej', target, true);
                                    var chat = ['福祸在君，而不在天——《太公兵法》', '天下熙熙，一盈一虚——《太公兵法》'].randomGet()
                                    player.say(chat);
                                },
                                sub: true,
                            },
                            "2": {
                                enable: "phaseUse",
                                filter: function (event, player) {
                                    return player.hp > 0;
                                },
                                filterTarget: function (card, player, target) {
                                    return target.num('he') <= target.hp && !target.hasSkill('yx2');
                                },
                                content: function () {
                                    target.addTempSkill('yx2', 'phaseAfter');
                                    target.draw();
                                    var chat = ['天下熙熙，一盈一虚——《太公兵法》', '福祸在君，而不在天——《太公兵法》'].randomGet()
                                    player.say(chat);
                                },
                                sub: true,
                            },
                        },
                    },
                    YS: {
                        unique: true,
                        trigger: {
                            global: "discardAfter",
                        },
                        filter: function (event, player) {
                            for (var i = 0; i < event.cards.length; i++) {
                                if (get.position(event.cards[i]) == 'd') {
                                    return player.num('e') > 0;
                                }
                            }
                            return true;
                        },
                        frequent: true,
                        popup: false,
                        content: function () {
                            "step 0"
                            var chat = ['鬼神莫测！', '是以圣人有阴书！'].randomGet()
                            player.say(chat);
                            player.draw();
                            var cards = [];
                            for (var i = 0; i < trigger.cards.length; i++) {
                                if (get.position(trigger.cards[i]) == 'd') {
                                    cards.push(trigger.cards[i]);
                                }
                            }
                            player.chooseCardButton(cards, [1, cards.length], '阴书：将弃置的牌按任意顺序置于牌堆顶（先选择的在上）').set('ai', function () {
                                return -1;
                            });
                            "step 1"
                            if (result && result.bool && result.links && result.links.length) {
                                var cards = result.links.slice(0);
                                while (cards.length) {
                                    ui.cardPile.insertBefore(cards.pop(), ui.cardPile.firstChild);
                                }
                                player.logSkill('YS');
                            }
                        },
                    },
                    "yx2": {
                    },
                    RB: {
                        trigger: {
                            player: "shaBegin",
                        },
                        forced: true,
                        content: function () {
                            'step 0'
                            player.draw();
                            player.chooseTarget(get.prompt('RB'), function (card, player, target) {
                                return target != player;
                            }).set('ai', function (target) {
                                return ai.get.attitude(player, target);
                            });
                            'step 1'
                            if (result.bool) {
                                player.logSkill('RB', result.targets);
                                result.targets[0].draw();
                                var chat = ['杀人安人，杀之可也——《司马法》', '圣王之师，以义决焉！'].randomGet()
                                player.say(chat);
                            };
                        },
                    },
                    CY: {
                        trigger: {
                            source: "damageEnd",
                        },
                        forced: true,
                        usable: 1,
                        content: function () {
                            'step 0'
                            player.chooseTarget(get.prompt('CY'), function (card, player, target) {
                                return true;
                            }).set('ai', function (target) {
                                return ai.get.attitude(player, target);
                            });
                            'step 1'
                            if (result.bool) {
                                player.logSkill('CY', result.targets);
                                result.targets[0].changeHujia();
                                var chat = ['以战止战，以兵制兵——《司马法》', '君上勿忧，且待我击破敌军！'].randomGet()
                                player.say(chat);

                            };


                        },
                    },
                    yb: {
                        trigger: {
                            player: "shaBegin",
                        },
                        filter: function (event, player) {
                            return player.num('h') > 0 && event.target.num('h') > 0;
                        },
                        usable: 1,
                        forced: true,
                        content: function () {
                            'step 0'
                            player.chooseToCompare(trigger.target);
                            'step 1'
                            if (result.bool) {
                                trigger.directHit = true;
                                player.discardPlayerCard(trigger.target, 'he', true);
                                var chat = ['多行不义必自毙——《左传》'].randomGet()
                                player.say(chat);
                            }
                            else {
                                trigger.untrigger();
                                trigger.finish();
                                var chat = ['此乃义军，撤退！', '罪过罪过！'].randomGet()
                                player.say(chat);

                            }
                        },
                    },
                    "宗师": {
                        group: ["宗师_1", "宗师_2", "宗师_3"],
                        subSkill: {
                            "1": {
                                trigger: {
                                    player: "phaseDrawBefore",
                                },
                                forced: true,
                                content: function () {
                                    player.draw();
                                    var chat = ['善用兵者，必先养民！'].randomGet()
                                    player.say(chat);

                                },
                                sub: true,
                            },
                            "2": {
                                trigger: {
                                    player: "phaseDiscardAfter",
                                },
                                forced: true,
                                content: function () {
                                    player.draw();
                                    var chat = ['有失必有得！'].randomGet()
                                    player.say(chat);
                                },
                                sub: true,
                            },
                            "3": {
                                trigger: {
                                    player: "damageEnd",
                                    source: "damageEnd",
                                },
                                forced: true,
                                content: function () {
                                    player.draw();
                                    var chat = ['越战愈强！'].randomGet()
                                    player.say(chat)
                                },
                                sub: true,
                            },
                        },
                        mod: {
                            maxHandcard: function (player, num) {
                                if (player.hp < player.maxHp) return num + player.maxHp - player.hp;
                            },
                        },
                    },
                    "归林": {
                        trigger: {
                            player: "phaseEnd",
                        },
                        forced: true,
                        unique: true,
                        filter: function (event, player) {
                            return player.num('hej') > 0;
                        },
                        content: function () {
                            'step 0'
                            player.chooseTarget(get.prompt('归林'), function (card, player, target) {
                                return target == player;
                            }).set('ai', function (target) {
                                return ai.get.attitude(player, target);
                            });
                            'step 1'
                            if (result.bool) {
                                player.changeHujia(-player.hujia);


                                player.logSkill('归林', result.targets);
                                result.targets[0].chooseToDiscard(player.num('hej'), 'hej', true);
                                player.changeHujia(player.hp);
                                var chat = ['众乐乐，不如独乐乐！', '此仙捷也！', '圣人唯不争，故无尤——《道德经》'].randomGet()
                                player.say(chat);
                            };


                        },
                    },
                    SM: {
                        group: ["SM_1", "SM_2", "SM_3"],
                        subSkill: {
                            "1": {
                                enable: "phaseUse",
                                usable: 1,
                                filter: function (event, player) {
                                    return player.num('hej') > 0 && player.hujia > 0;
                                },
                                content: function () {
                                    player.changeHujia(-player.hujia);
                                    player.chooseToDiscard(player.num('hej'), 'hej', true)
                                    player.draw(game.players.length)
                                    var chat = ['运筹帷幄之中，决胜千里之外！'].randomGet()
                                    player.say(chat);
                                },
                                sub: true,
                            },
                            "2": {
                                enable: "phaseUse",
                                usable: 1,
                                filter: function (event, player) {
                                    return player.hp > 0;
                                },
                                content: function () {
                                    player.loseHp()
                                    player.addSkill('MS')
                                    var chat = ['谋者，帝王之策也'].randomGet()
                                    player.say(chat);
                                },
                                sub: true,
                            },
                            "3": {
                                trigger: {
                                    player: "phaseBegin",
                                },
                                forced: true,
                                content: function () {
                                    player.removeSkill('MS');
                                },
                                sub: true,
                            },
                        },
                    },
                    MS: {
                        mod: {
                            targetEnabled: function (card) {
                                if (get.type(card) == 'trick' || get.type(card) == 'delay') { return false; }
                            },
                        },
                    },
                    DC: {
                        audio: "kanpo1",
                        enable: "chooseToUse",
                        position: "hej",
                        filterCard: function (card) {
                            return get.color(card) == 'black' || get.color(card) == 'red';
                        },
                        viewAsFilter: function (player) {
                            return player.num('hej', { color: ['black', 'red'] }) > 0;
                        },
                        viewAs: {
                            name: "wuxie",
                            suit: "club",
                            number: 12,
                            cards: [{ "node": { "image": {}, "info": {}, "name": {}, "name2": {}, "background": {}, "intro": {}, "range": {} }, "storage": {}, "vanishtag": [], "_uncheck": [], "suit": "club", "number": 12, "name": "sha", "cardid": "6804275322", "_transform": "translateX(0px)", "clone": { "name": "sha", "suit": "club", "number": 12, "node": { "name": {}, "info": {}, "intro": {}, "background": {}, "image": {} }, "_transitionEnded": true, "timeout": 2065 }, "timeout": 1889, "original": "h" }],
                        },
                        prompt: "将一张牌当无懈可击使用",
                        check: function (card) { return 8 - ai.get.value(card) },
                        threaten: 1.2,
                        ai: {
                            basic: {
                                useful: [6, 4],
                                value: [6, 4],
                            },
                            result: {
                                player: 1,
                            },
                            expose: 0.2,
                        },
                    },
                    BJ: {
                        trigger: {
                            player: "phaseBegin",
                        },
                        forced: true,
                        filter: function (event, player) {
                            return player.hp > 0;
                        },
                        content: function () {
                            'step 0'
                            player.chooseTarget(get.prompt('BJ'), function (card, player, target) {
                                return target == player;
                            }).set('ai', function (target) {
                                return ai.get.attitude(player, target);
                            });
                            'step 1'
                            if (result.bool) {
                                player.logSkill('BJ', result.targets);
                                player.changeHujia(-player.hujia);
                                result.targets[0].draw(player.hp + 1);
                                result.targets[0].skip('phaseDraw')
                                result.targets[0].skip('phaseUse')
                                result.targets[0].skip('phaseDiscard')
                                result.targets[0].skip('phaseJudge')
                                player.addSkill('DC');
                                player.changeHujia();
                                player.removeSkill('BJ');
                                player.addSkill('CS')
                                player.addSkill('SF')
                                var chat = ['苟全性命于乱世，不求闻达于诸侯——《出师表》', '先为不可胜，以待敌之可胜——《孙武兵法》'].randomGet()
                                player.say(chat)

                            };

                        },
                    },
                    CS: {
                        trigger: {
                            player: "phaseBegin",
                        },
                        forced: true,
                        content: function () {
                            'step 0'
                            player.draw()
                            player.addSkill('JH')
                            player.phaseUse();

                            'step 1'
                            player.getStat().card = {};
                            var chat = ['遂许先帝以驱驰——《出师表》'].randomGet()
                            player.say(chat);
                        },
                        group: "CS_CS2",
                        subSkill: {
                            "CS2": {
                                trigger: {
                                    player: "damageEnd",
                                },
                                forced: true,
                                content: function () {
                                    var chat = ['诚如是，汉室可兴也——《隆中对》'].randomGet()
                                    player.say(chat);
                                    player.removeSkill('DC')
                                    player.removeSkill('SF')
                                    player.removeSkill('CS');
                                    player.removeSkill('JH');
                                    player.addSkill('BJ')
                                    player.draw(player.maxHp - player.hp + 1)
                                },
                                sub: true,
                            },
                        },
                    },
                    SF: {
                        trigger: {
                            global: "shaBegin",
                        },
                        forced: true,
                        filter: function (event, player) {
                            return _status.currentPhase != player && event.target.hp <= event.player.hp;
                        },
                        content: function () {
                            'step 0'
                            player.chooseTarget(get.prompt('SF'), function (card, player, target) {
                                return target == trigger.player;
                            }).set("ai", function (target) {
                                return get.damageEffect(target, player, player);

                            });
                            'step 1'
                            if (result.bool) {
                                player.logSkill('SF', result.targets);
                                result.targets[0].chooseToDiscard('he', true);
                                player.draw();
                                var chat = ['将军可取荆州、益州，以成三足鼎立之势——《隆中对》'].randomGet()
                                player.say(chat);

                            };
                        },
                    },
                    JH: {
                        group: ["劫火_huo", "劫火_mie"],
                        subSkill: {
                            huo: {
                                audio: "huoji",
                                enable: "phaseUse",
                                usable: 1,
                                filterCard: true,
                                position: "he",
                                viewAs: {
                                    name: "huogong",
                                    suit: "club",
                                    number: 10,
                                },
                                ai: {
                                    basic: {
                                        order: 4,
                                        value: [3, 1],
                                        useful: 1,
                                    },
                                    wuxie: function (target, card, player, current, state) {
                                        if (get.attitude(current, player) >= 0 && state > 0) return false;
                                    },
                                    result: {
                                        player: function (player) {
                                            var nh = player.countCards('h');
                                            if (nh <= player.hp && nh <= 4 && _status.event.name == 'chooseToUse') {
                                                if (typeof _status.event.filterCard == 'function' &&
                                                    _status.event.filterCard({ name: 'huogong' })) {
                                                    return -10;
                                                }
                                                if (_status.event.skill) {
                                                    var viewAs = get.info(_status.event.skill).viewAs;
                                                    if (viewAs == 'huogong') return -10;
                                                    if (viewAs && viewAs.name == 'huogong') return -10;
                                                }
                                            }
                                            return 0;
                                        },
                                        target: function (player, target) {
                                            if (target.hasSkill('huogong2') || target.countCards('h') == 0) return 0;
                                            if (player.countCards('h') <= 1) return 0;
                                            if (target == player) {
                                                if (typeof _status.event.filterCard == 'function' &&
                                                    _status.event.filterCard({ name: 'huogong' })) {
                                                    return -1.5;
                                                }
                                                if (_status.event.skill) {
                                                    var viewAs = get.info(_status.event.skill).viewAs;
                                                    if (viewAs == 'huogong') return -1.5;
                                                    if (viewAs && viewAs.name == 'huogong') return -1.5;
                                                }
                                                return 0;
                                            }
                                            return -1.5;
                                        },
                                    },
                                    tag: {
                                        damage: 1,
                                        fireDamage: 1,
                                        natureDamage: 1,
                                        norepeat: 1,
                                    },
                                },
                                sub: true,
                            },
                            mie: {
                                unique: true,
                                mod: {
                                    selectTarget: function (card, player, range) {
                                        if (range[1] == -1) return;
                                        if (card.name == 'huogong') range[1] += 1;
                                    },
                                },
                                sub: true,
                            },
                        },
                    },
                },
                translate: {
                    BX: "兵仙",
                    "BX_info": "<font color=#F0F>被动技能</font> ：游戏开始时，你拥有“兵仙”值3点。每当你打出或者使用一张牌时，上升一点，你的“兵仙”值至多10点。",
                    QZ: "奇战",
                    "QZ_info": "出牌阶段限一次，你可以利用“兵仙”值5点，然后获得【奇战】。【奇战】：当你对一名其他角色造成伤害后，若其有牌，那么视为你对之使用了一张【顺手牵羊】，持续到回合结束。",
                    NX: "匿行",
                    "NX_info": "出牌阶段时一次，若你的“兵仙”值大于3，那么你可以利用一点，弃置一张手牌然后摸取一张牌，再获得技能【马术】到回合结束。",
                    DB: "点兵",
                    "DB_info": "出牌阶段，你可以使用一点“兵仙”值，摸取一张牌然后弃置一张牌。",
                    BS: "兵圣",
                    "BS_info": "<font color=#F0F>被动技能</font> ：游戏开始时，你拥有“兵圣”值7点。每当你打出或者使用一张牌时，上升一点，你的“兵圣”值至多15点。",
                    JZ: "军争",
                    "JZ_info": "出牌阶段限一次，若你拥有“兵圣”15点，你可以使用之，然后在当前回合结束时进行一个新的回合。每当你的回合开始时，你摸取一张牌以及获得一点“兵圣”。",
                    XS: "虚实",
                    "XS_info": "当你的被其他角色的【杀】指定为目标时，若你的“兵圣”值大于五，那么目标弃置x张牌，若不大于五，那么你摸取x张牌,x为你装备区内的牌数。",
                    SJ: "始计",
                    "SJ_info": "出牌阶段限一次，若你的“兵圣”值不小于六，你可以使用六点“兵圣”值，然后获得技能【完杀】、【制衡】、【教战】到回合结束。",
                    JIAOZHAN: "教战",
                    "JIAOZHAN_info": "当你造成伤害后，获得一点“兵圣”并且摸取一张牌,你以此法造成伤害后，获得的“兵圣”值可以突破上限。",
                    bs: "兵神",
                    "bs_info": "<font color=#F0F>被动技能</font> ：游戏开始时，你拥有“兵神”值2点。每当你打出或者使用一张牌时，上升一点，你的“兵神”值至多10点。",
                    HZ: "花阵",
                    "HZ_info": "若你的“兵神”值大于5且装备区内有牌那么你可以在出牌阶段时发动此技能，你使用5点“兵神”值，布下“六花阵法”直到下个回合开始时（六花阵法：当你被其他角色的【杀】指定为目标时，你摸取一张牌并且令目标弃置一张牌）。",
                    YB: "演兵",
                    "YB_info": "当你使用一张【杀】时，可以从弃牌堆或者牌堆里随机获得一张武器牌。",
                    ZX: "正袭",
                    "ZX_info": "出牌阶段限一次，你可以使用4点“兵神”值（需要你的“兵神”值大于4点），然后对一名其他角色造成一点伤害。",
                    SS: "死神",
                    "SS_info": "<font color=#F0F>被动技能</font> ：游戏开始时，你拥有“死神”值3点。每当你打出或者使用一张牌时，上升一点，你的“死神”值至多10点。",
                    RT: "人屠",
                    "RT_info": "锁定技：出牌阶段，你使用的【杀】无距离限制和次数限制。",
                    ZL: "诈利",
                    "ZL_info": "出牌阶段限一次，你可以使用10点“死神”值，对一名其他角色造成一点伤害，然后摸取x张牌（x为你当前体力值加一）并获得【人屠】到回合结束。",
                    CG: "昌国",
                    "CG_info": "每当你回合开始时或者结束时，你都可以令一名角色摸取一张牌。回合开始时，若你体力值大于1，失去一点体力，获得技能【整武】到回合结束。",
                    ZW: "整武",
                    "ZW_info": "出牌阶段，若你区域里的牌不小于2，你可以发动此技能，弃置两张牌后摸取x张牌(x为已损失体力值)。出牌阶段至多三次。",
                    LP: "连破",
                    "LP_info": "当你造成伤害后，摸取x张牌(x你为已损失体力值)，然后获得一层护甲。当你的回合结束时，若你拥有护甲，那么你失去x层护甲（x为你当前体力值加一），恢复一点体力值并摸取等同于你剩余护甲值的牌。",
                    BD: "兵道",
                    "BD_info": "每当你使用一张【杀】时，可以指定一名其他角色，令之弃置一张牌，每当你被【杀】指定为目标时，若你与使用者均有手牌，你们进行拼点，若你赢，目标弃置所有手牌并且该【杀】无效，若你输，则你弃置所有手牌。锁定技：你的手牌上限始终加一。",
                    FX: "伏袭",
                    "FX_info": "当你于回合外失去手牌时，若此时，你的手牌数小于1，那么你可以摸取x张牌（x为你当前体力值加一）并且对一名其他角色造成一点伤害。",
                    YX: "渊心",
                    "YX_info": "<font color=#F0F>被动技能</font> ：游戏开始时，你拥有“渊”值5点。每当你打出或者使用一张牌时，上升一点，你的“渊”值至多12点",
                    SL: "神虑",
                    "SL_info": "<font color=#F0F>渊心被动</font> ：出牌阶段限一次，若你的“渊”不小于6，你可以使用6点，发动本技能：令你于回合外拥有“渊”而被卡牌指定为唯一目标时，取消之。持续至下个回合开始，然后摸取x张牌，x为你已损失体力值。",
                    jt: "骏途",
                    "jt_info": "出牌阶段限三次，若你拥有“渊”，你可以使用一点令一名其他角色摸取一张牌。",
                    KW: "匡威",
                    "KW_info": "每当你的回合内有其他角色获得牌时，你可以选择一名其他角色，令之弃置一张牌（包括判定区）。",
                    ZB: "制霸",
                    "ZB_info": "<font color=#F0F>觉醒技</font> ：你的回合开始时，若你的“渊”到达12点，那么你失去所有的“渊”，回复体力至体力上限，摸取等同于游戏人数的卡牌，获得技能【神虑】、【骏途】、【匡威】，然后失去技能【制霸】和一点体力上限。",
                    wd: "无敌",
                    "wd_info": "锁定技：当你受到伤害后，若你未死亡，你恢复一点体力并摸取一张牌。锁定技：在你已经受伤时，你的手牌上限始终加一。",
                    JS: "军神",
                    "JS_info": "当你使用一张【杀】指定目标时，你可以失去一点体力，然后选择一名除你外的角色，令之受到来自于你的一点伤害（需要你的体力大于1）。",
                    yx: "盈虚",
                    "yx_info": "出牌阶段每名角色限一次。你可以弃置手牌区加上装备区里的牌的总和大于体力值的一名角色的一张牌（包括判定区里的）或者令手牌区及装备区里的牌的总和不大于体力值的一名角色摸取一张牌。",
                    YS: "阴书",
                    "YS_info": "每当有角色在你装备区内有牌而被弃置牌时，你可以先摸取一张牌，然后将被弃置的牌按任意顺序置于牌堆顶",
                    "yx2": "盈虚",
                    "yx2_info": "你不能再成为【盈虚】的目标。",
                    RB: "仁本",
                    "RB_info": "当你使用【杀】时，你摸取一张牌后可以令一名其他角色摸取一张牌。",
                    CY: "斥燕",
                    "CY_info": "每当你造成伤害后，可以令一名角色获得一层护甲。若在出牌阶段时，则限一次。",
                    yb: "义兵",
                    "yb_info": "出牌阶段限一次。你使用【杀】指定一名其他角色时，若你与他均有手牌，那么你们二者拼点，若你赢，此【杀】不可被【闪】响应，并且你弃置他一张牌。若你输，此【杀】无效。",
                    "宗师": "宗师",
                    "宗师_info": "摸牌阶段你多摸一张牌。弃牌阶段后你可以摸取一张牌。当你受到伤害或者造成伤害后，你摸取一张牌。你的手牌上限始终等于体力上限。",
                    "归林": "归林",
                    "归林_info": "回合结束时，若你区域内有牌，则你可以弃置所有区域里的牌，然后获得x点护甲，x为你当前体力值（若你原先拥有护甲，需要先清空之）。",
                    SM: "神谋",
                    "SM_info": "出牌阶段限一次。若你拥有护甲和区域里有牌，可以发动此技能，你弃置所有区域内的牌以及所有护甲，然后摸取等同于当前游戏人数的牌。出牌阶段限一次，你可以失去一点体力，获得技能【谋圣】到下回合开始时。",
                    MS: "谋圣",
                    "MS_info": "锁定技：锦囊牌对你无效。",
                    DC: "洞察",
                    "DC_info": "在你拥有手牌或者区域内有牌时，你可以将你的任意一张牌当【无懈可击】使用。",
                    BJ: "抱居",
                    "BJ_info": "<font color=#F0F>准备技能</font> :在你的准备阶段开始时，你可以令自己跳过本回合并且摸取等同于当前体力值加一的牌，然后获得一层护甲（若你原本拥有护甲，需要失去之），再失去技能【抱居】，获得【洞察】、【出山】和【三分】。",
                    CS: "出山",
                    "CS_info": "<font color=#F0F>准备技能</font> :你的回合开始之时，你摸取一张牌以及进行一个出牌阶段并且获得技能【劫火】。隐卧：<font color=#F0F>出山被动</font> ：在你受到伤害后，你失去所拥有的技能，然后获得技能【抱居】并摸取等同于已损失体力值加一的牌。",
                    SF: "三分",
                    "SF_info": "每当场上有角色在你的回合外使用【杀】时，若【杀】的目标体力值不大于使用者，你可以令使用者弃置一张牌然后你摸取一张牌。",
                    JH: "劫火",
                    "JH_info": "出牌阶段限一次，你将任意一张牌当火攻使用。你使用的火攻能够指定任意名角色。",
                },
            },
        }, files: { "character": ["wm_hx.jpg"], "card": [], "skill": [] }
    }
})